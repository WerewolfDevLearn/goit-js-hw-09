{"mappings":"gfAAA,IAOIA,EAPJC,EAAAC,EAAA,S,0BAIMC,EAAc,IAAIC,KAClBC,EAAiBD,KAAKE,MAAMH,GAC9BI,EAAQ,EAGNC,EAAO,CACXC,QAASC,SAASC,cAAc,gBAChCC,SAAUF,SAASC,cAAc,eACjCE,UAAWH,SAASC,cAAc,gBAClCG,YAAaJ,SAASC,cAAc,kBACpCI,YAAaL,SAASC,cAAc,kBACpCK,UAAWN,SAASC,cAAc,0BAGpCH,EAAKC,QAAQQ,aAAa,WAAY,IAEtC,IAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIjB,KAEjBkB,gBAAiB,EACjBC,QAAA,SAAQC,GACN,IAAMC,EAAkBrB,KAAKE,MAAMkB,EAAc,KACjDjB,EAAQkB,EAAkBpB,IACb,EACXqB,EAAAC,OAAOC,QAAQ,wCAGjBpB,EAAKC,QAAQoB,gBAAgB,aAC7B,EAAAC,EAAAC,SAASvB,EAAMD,G,IAIR,EAAAN,EAAA8B,SAAU,wBAAyBb,GAI9C,SAASc,IACPxB,EAAKC,QAAQwB,oBAAoB,QAASD,GAC1CxB,EAAKC,QAAQyB,iBAAiB,QAASC,GACvC3B,EAAKC,QAAQ2B,YAAc,OAC3BpC,EAAWqC,YAAYC,EAAe,I,CAGxC,SAASH,IACPI,cAAcvC,GACdQ,EAAKC,QAAQ2B,YAAc,QAC3B5B,EAAKC,QAAQwB,oBAAoB,QAASE,GAC1C3B,EAAKC,QAAQyB,iBAAiB,QAASF,E,CAGzC,SAASM,KACP/B,GAAgB,MACH,IACX,EAAAuB,EAAAC,SAASvB,EAAMD,E,CAnBnBC,EAAKC,QAAQyB,iBAAiB,QAASF,E","sources":["src/js/04-timer-custom.js"],"sourcesContent":["import flatpickr from 'flatpickr';\r\nimport 'flatpickr/dist/flatpickr.min.css';\r\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\r\nimport setTimer from './utils/setTimer';\r\nconst currentDate = new Date();\r\nconst currentDateMls = Date.parse(currentDate);\r\nlet delta = 0;\r\nlet interval;\r\n\r\nconst refs = {\r\n  sartBtn: document.querySelector('[data-start]'),\r\n  dataDays: document.querySelector('[data-days]'),\r\n  dataHours: document.querySelector('[data-hours]'),\r\n  dataMinutes: document.querySelector('[data-minutes]'),\r\n  dataSeconds: document.querySelector('[data-seconds]'),\r\n  timeInput: document.querySelector('input#datetime-picker'),\r\n};\r\n\r\nrefs.sartBtn.setAttribute('disabled', '');\r\n\r\nconst options = {\r\n  enableTime: true,\r\n  time_24hr: true,\r\n  defaultDate: new Date(),\r\n  // minDate: currentDate, //  Не дає вибрати дату меншу за поточну.\r\n  minuteIncrement: 1,\r\n  onClose(selectedDates) {\r\n    const selectedDateMls = Date.parse(selectedDates[0]);\r\n    delta = selectedDateMls - currentDateMls;\r\n    if (delta <= 0) {\r\n      Notify.warning('Please choose a date in the future\"');\r\n      return;\r\n    }\r\n    refs.sartBtn.removeAttribute('disabled');\r\n    setTimer(refs, delta);\r\n  },\r\n};\r\n\r\nconst fp = flatpickr('input#datetime-picker', options);\r\n\r\nrefs.sartBtn.addEventListener('click', startCD);\r\n\r\nfunction startCD() {\r\n  refs.sartBtn.removeEventListener('click', startCD);\r\n  refs.sartBtn.addEventListener('click', stopCD);\r\n  refs.sartBtn.textContent = 'Stop';\r\n  interval = setInterval(decreaseDelta, 1000);\r\n}\r\n\r\nfunction stopCD() {\r\n  clearInterval(interval);\r\n  refs.sartBtn.textContent = 'Start';\r\n  refs.sartBtn.removeEventListener('click', stopCD);\r\n  refs.sartBtn.addEventListener('click', startCD);\r\n}\r\n\r\nfunction decreaseDelta() {\r\n  delta = delta - 1000;\r\n  if (delta >= 0) {\r\n    setTimer(refs, delta);\r\n  }\r\n}\r\n"],"names":["$3106c6ed45557830$var$interval","$dbdyf","parcelRequire","$3106c6ed45557830$var$currentDate","Date","$3106c6ed45557830$var$currentDateMls","parse","$3106c6ed45557830$var$delta","$3106c6ed45557830$var$refs","sartBtn","document","querySelector","dataDays","dataHours","dataMinutes","dataSeconds","timeInput","setAttribute","$3106c6ed45557830$var$options","enableTime","time_24hr","defaultDate","minuteIncrement","onClose","selectedDates","selectedDateMls","$h6c0i","Notify","warning","removeAttribute","$dl3ua","default","$3106c6ed45557830$var$startCD","removeEventListener","addEventListener","$3106c6ed45557830$var$stopCD","textContent","setInterval","$3106c6ed45557830$var$decreaseDelta","clearInterval"],"version":3,"file":"04-timer-custom.24dfd323.js.map"}