{"mappings":"gfAAA,IAOIA,EAPJC,EAAAC,EAAA,S,0BAIMC,EAAc,IAAIC,KAClBC,EAAiBD,KAAKE,MAAMH,GAC9BI,EAAQ,EAGNC,EAAO,CACXC,QAASC,SAASC,cAAc,gBAChCC,SAAUF,SAASC,cAAc,eACjCE,UAAWH,SAASC,cAAc,gBAClCG,YAAaJ,SAASC,cAAc,kBACpCI,YAAaL,SAASC,cAAc,kBACpCK,UAAWN,SAASC,cAAc,0BAGpCH,EAAKC,QAAQQ,aAAa,WAAY,IAEtC,IAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIjB,KAEjBkB,gBAAiB,EACjBC,QAAA,SAAQC,GACN,IAAMC,EAAkBrB,KAAKE,MAAMkB,EAAc,KACjDjB,EAAQkB,EAAkBpB,IACb,EACXqB,EAAAC,OAAOC,QAAQ,wCAGjBpB,EAAKC,QAAQoB,gBAAgB,aAC7B,EAAAC,EAAAC,SAASvB,EAAMD,G,IAIR,EAAAN,EAAA8B,SAAU,wBAAyBb,GAU9C,SAASc,KACPzB,GAAgB,MACH,IACX,EAAAuB,EAAAC,SAASvB,EAAMD,GAEbA,GAAS,IACXC,EAAKC,QAAQQ,aAAa,WAAY,IACtCT,EAAKQ,UAAUa,gBAAgB,WAAY,IAC3CI,cAAcjC,G,CAhBlBQ,EAAKC,QAAQyB,iBAAiB,SAE9B,WACElC,EAAWmC,YAAYH,EAAe,KACtCxB,EAAKC,QAAQQ,aAAa,WAAY,IACtCT,EAAKQ,UAAUC,aAAa,WAAY,G","sources":["src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\r\nimport 'flatpickr/dist/flatpickr.min.css';\r\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\r\nimport setTimer from './utils/setTimer';\r\nconst currentDate = new Date();\r\nconst currentDateMls = Date.parse(currentDate);\r\nlet delta = 0;\r\nlet interval;\r\n\r\nconst refs = {\r\n  sartBtn: document.querySelector('[data-start]'),\r\n  dataDays: document.querySelector('[data-days]'),\r\n  dataHours: document.querySelector('[data-hours]'),\r\n  dataMinutes: document.querySelector('[data-minutes]'),\r\n  dataSeconds: document.querySelector('[data-seconds]'),\r\n  timeInput: document.querySelector('input#datetime-picker'),\r\n};\r\n\r\nrefs.sartBtn.setAttribute('disabled', '');\r\n\r\nconst options = {\r\n  enableTime: true,\r\n  time_24hr: true,\r\n  defaultDate: new Date(),\r\n  // minDate: currentDate, //  Не дає вибрати дату меншу за поточну.\r\n  minuteIncrement: 1,\r\n  onClose(selectedDates) {\r\n    const selectedDateMls = Date.parse(selectedDates[0]);\r\n    delta = selectedDateMls - currentDateMls;\r\n    if (delta <= 0) {\r\n      Notify.warning('Please choose a date in the future\"');\r\n      return;\r\n    }\r\n    refs.sartBtn.removeAttribute('disabled');\r\n    setTimer(refs, delta);\r\n  },\r\n};\r\n\r\nconst fp = flatpickr('input#datetime-picker', options);\r\n\r\nrefs.sartBtn.addEventListener('click', startCD);\r\n\r\nfunction startCD() {\r\n  interval = setInterval(decreaseDelta, 1000);\r\n  refs.sartBtn.setAttribute('disabled', '');\r\n  refs.timeInput.setAttribute('disabled', '');\r\n}\r\n\r\nfunction decreaseDelta() {\r\n  delta = delta - 1000;\r\n  if (delta >= 0) {\r\n    setTimer(refs, delta);\r\n  }\r\n  if (delta <= 0) {\r\n    refs.sartBtn.setAttribute('disabled', '');\r\n    refs.timeInput.removeAttribute('disabled', '');\r\n    clearInterval(interval);\r\n  }\r\n}\r\n"],"names":["$84b9dae4df53835d$var$interval","$dbdyf","parcelRequire","$84b9dae4df53835d$var$currentDate","Date","$84b9dae4df53835d$var$currentDateMls","parse","$84b9dae4df53835d$var$delta","$84b9dae4df53835d$var$refs","sartBtn","document","querySelector","dataDays","dataHours","dataMinutes","dataSeconds","timeInput","setAttribute","$84b9dae4df53835d$var$options","enableTime","time_24hr","defaultDate","minuteIncrement","onClose","selectedDates","selectedDateMls","$h6c0i","Notify","warning","removeAttribute","$dl3ua","default","$84b9dae4df53835d$var$decreaseDelta","clearInterval","addEventListener","setInterval"],"version":3,"file":"02-timer.b022bf80.js.map"}