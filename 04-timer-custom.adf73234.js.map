{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAIA,MAAMC,EAAc,IAAIC,KAClBC,EAAiBD,KAAKE,MAAMH,GAClC,IACII,EADAC,EAAQ,EAGZ,MAAMC,EAAO,CACXC,QAASC,SAASC,cAAc,gBAChCC,SAAUF,SAASC,cAAc,eACjCE,UAAWH,SAASC,cAAc,gBAClCG,YAAaJ,SAASC,cAAc,kBACpCI,YAAaL,SAASC,cAAc,kBACpCK,UAAWN,SAASC,cAAc,0BAGpCH,EAAKC,QAAQQ,aAAa,WAAY,IAEtC,MAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIlB,KAEjBmB,gBAAiB,EACjBC,QAAQC,GACN,MAAMC,EAAkBtB,KAAKE,MAAMmB,EAAc,IACjDjB,EAAQkB,EAAkBrB,EACtBG,GAAS,EACXmB,EAAAC,OAAOC,QAAQ,wCAGjBpB,EAAKC,QAAQoB,gBAAgB,aAC7B,EAAAC,EAAAC,SAASvB,EAAMD,G,IAIR,EAAAP,EAAA+B,SAAU,wBAAyBb,GAI9C,SAASc,IACPxB,EAAKC,QAAQwB,oBAAoB,QAASD,GAC1CxB,EAAKC,QAAQyB,iBAAiB,QAASC,GACvC3B,EAAKC,QAAQ2B,YAAc,OAC3B9B,EAAW+B,YAAYC,EAAe,I,CAGxC,SAASH,IACPI,cAAcjC,GACdE,EAAKC,QAAQ2B,YAAc,QAC3B5B,EAAKC,QAAQwB,oBAAoB,QAASE,GAC1C3B,EAAKC,QAAQyB,iBAAiB,QAASF,E,CAGzC,SAASM,IACP/B,GAAgB,IACZA,GAAS,IACX,EAAAuB,EAAAC,SAASvB,EAAMD,E,CAnBnBC,EAAKC,QAAQyB,iBAAiB,QAASF","sources":["src/js/04-timer-custom.js"],"sourcesContent":["import flatpickr from 'flatpickr';\r\nimport 'flatpickr/dist/flatpickr.min.css';\r\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\r\nimport setTimer from './utils/setTimer';\r\nconst currentDate = new Date();\r\nconst currentDateMls = Date.parse(currentDate);\r\nlet delta = 0;\r\nlet interval;\r\n\r\nconst refs = {\r\n  sartBtn: document.querySelector('[data-start]'),\r\n  dataDays: document.querySelector('[data-days]'),\r\n  dataHours: document.querySelector('[data-hours]'),\r\n  dataMinutes: document.querySelector('[data-minutes]'),\r\n  dataSeconds: document.querySelector('[data-seconds]'),\r\n  timeInput: document.querySelector('input#datetime-picker'),\r\n};\r\n\r\nrefs.sartBtn.setAttribute('disabled', '');\r\n\r\nconst options = {\r\n  enableTime: true,\r\n  time_24hr: true,\r\n  defaultDate: new Date(),\r\n  // minDate: currentDate, //  Не дає вибрати дату меншу за поточну.\r\n  minuteIncrement: 1,\r\n  onClose(selectedDates) {\r\n    const selectedDateMls = Date.parse(selectedDates[0]);\r\n    delta = selectedDateMls - currentDateMls;\r\n    if (delta <= 0) {\r\n      Notify.warning('Please choose a date in the future\"');\r\n      return;\r\n    }\r\n    refs.sartBtn.removeAttribute('disabled');\r\n    setTimer(refs, delta);\r\n  },\r\n};\r\n\r\nconst fp = flatpickr('input#datetime-picker', options);\r\n\r\nrefs.sartBtn.addEventListener('click', startCD);\r\n\r\nfunction startCD() {\r\n  refs.sartBtn.removeEventListener('click', startCD);\r\n  refs.sartBtn.addEventListener('click', stopCD);\r\n  refs.sartBtn.textContent = 'Stop';\r\n  interval = setInterval(decreaseDelta, 1000);\r\n}\r\n\r\nfunction stopCD() {\r\n  clearInterval(interval);\r\n  refs.sartBtn.textContent = 'Start';\r\n  refs.sartBtn.removeEventListener('click', stopCD);\r\n  refs.sartBtn.addEventListener('click', startCD);\r\n}\r\n\r\nfunction decreaseDelta() {\r\n  delta = delta - 1000;\r\n  if (delta >= 0) {\r\n    setTimer(refs, delta);\r\n  }\r\n}\r\n"],"names":["$fbklV","parcelRequire","$29fdcf56b5828cf5$var$currentDate","Date","$29fdcf56b5828cf5$var$currentDateMls","parse","$29fdcf56b5828cf5$var$interval","$29fdcf56b5828cf5$var$delta","$29fdcf56b5828cf5$var$refs","sartBtn","document","querySelector","dataDays","dataHours","dataMinutes","dataSeconds","timeInput","setAttribute","$29fdcf56b5828cf5$var$options","enableTime","time_24hr","defaultDate","minuteIncrement","onClose","selectedDates","selectedDateMls","$iQIUW","Notify","warning","removeAttribute","$h4Mxw","default","$29fdcf56b5828cf5$var$startCD","removeEventListener","addEventListener","$29fdcf56b5828cf5$var$stopCD","textContent","setInterval","$29fdcf56b5828cf5$var$decreaseDelta","clearInterval"],"version":3,"file":"04-timer-custom.adf73234.js.map"}