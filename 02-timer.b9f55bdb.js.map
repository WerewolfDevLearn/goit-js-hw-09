{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAIA,MAAMC,EAAc,IAAIC,KAClBC,EAAiBD,KAAKE,MAAMH,GAClC,IACII,EADAC,EAAQ,EAGZ,MAAMC,EAAO,CACXC,QAASC,SAASC,cAAc,gBAChCC,SAAUF,SAASC,cAAc,eACjCE,UAAWH,SAASC,cAAc,gBAClCG,YAAaJ,SAASC,cAAc,kBACpCI,YAAaL,SAASC,cAAc,kBACpCK,UAAWN,SAASC,cAAc,0BAGpCH,EAAKC,QAAQQ,aAAa,WAAY,IAEtC,MAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIlB,KAEjBmB,gBAAiB,EACjBC,QAAQC,GACN,MAAMC,EAAkBtB,KAAKE,MAAMmB,EAAc,IACjDjB,EAAQkB,EAAkBrB,EACtBG,GAAS,EACXmB,EAAAC,OAAOC,QAAQ,wCAGjBpB,EAAKC,QAAQoB,gBAAgB,aAC7B,EAAAC,EAAAC,SAASvB,EAAMD,G,IAIR,EAAAP,EAAA+B,SAAU,wBAAyBb,GAU9C,SAASc,IACPzB,GAAgB,IACZA,GAAS,IACX,EAAAuB,EAAAC,SAASvB,EAAMD,GAEbA,GAAS,IACXC,EAAKC,QAAQQ,aAAa,WAAY,IACtCT,EAAKQ,UAAUa,gBAAgB,WAAY,IAC3CI,cAAc3B,G,CAhBlBE,EAAKC,QAAQyB,iBAAiB,SAE9B,WACE5B,EAAW6B,YAAYH,EAAe,KACtCxB,EAAKC,QAAQQ,aAAa,WAAY,IACtCT,EAAKQ,UAAUC,aAAa,WAAY,G","sources":["src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\r\nimport 'flatpickr/dist/flatpickr.min.css';\r\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\r\nimport setTimer from './utils/setTimer';\r\nconst currentDate = new Date();\r\nconst currentDateMls = Date.parse(currentDate);\r\nlet delta = 0;\r\nlet interval;\r\n\r\nconst refs = {\r\n  sartBtn: document.querySelector('[data-start]'),\r\n  dataDays: document.querySelector('[data-days]'),\r\n  dataHours: document.querySelector('[data-hours]'),\r\n  dataMinutes: document.querySelector('[data-minutes]'),\r\n  dataSeconds: document.querySelector('[data-seconds]'),\r\n  timeInput: document.querySelector('input#datetime-picker'),\r\n};\r\n\r\nrefs.sartBtn.setAttribute('disabled', '');\r\n\r\nconst options = {\r\n  enableTime: true,\r\n  time_24hr: true,\r\n  defaultDate: new Date(),\r\n  // minDate: currentDate, //  Не дає вибрати дату меншу за поточну.\r\n  minuteIncrement: 1,\r\n  onClose(selectedDates) {\r\n    const selectedDateMls = Date.parse(selectedDates[0]);\r\n    delta = selectedDateMls - currentDateMls;\r\n    if (delta <= 0) {\r\n      Notify.warning('Please choose a date in the future\"');\r\n      return;\r\n    }\r\n    refs.sartBtn.removeAttribute('disabled');\r\n    setTimer(refs, delta);\r\n  },\r\n};\r\n\r\nconst fp = flatpickr('input#datetime-picker', options);\r\n\r\nrefs.sartBtn.addEventListener('click', startCD);\r\n\r\nfunction startCD() {\r\n  interval = setInterval(decreaseDelta, 1000);\r\n  refs.sartBtn.setAttribute('disabled', '');\r\n  refs.timeInput.setAttribute('disabled', '');\r\n}\r\n\r\nfunction decreaseDelta() {\r\n  delta = delta - 1000;\r\n  if (delta >= 0) {\r\n    setTimer(refs, delta);\r\n  }\r\n  if (delta <= 0) {\r\n    refs.sartBtn.setAttribute('disabled', '');\r\n    refs.timeInput.removeAttribute('disabled', '');\r\n    clearInterval(interval);\r\n  }\r\n}\r\n"],"names":["$fbklV","parcelRequire","$40d383fb392a7037$var$currentDate","Date","$40d383fb392a7037$var$currentDateMls","parse","$40d383fb392a7037$var$interval","$40d383fb392a7037$var$delta","$40d383fb392a7037$var$refs","sartBtn","document","querySelector","dataDays","dataHours","dataMinutes","dataSeconds","timeInput","setAttribute","$40d383fb392a7037$var$options","enableTime","time_24hr","defaultDate","minuteIncrement","onClose","selectedDates","selectedDateMls","$iQIUW","Notify","warning","removeAttribute","$h4Mxw","default","$40d383fb392a7037$var$decreaseDelta","clearInterval","addEventListener","setInterval"],"version":3,"file":"02-timer.b9f55bdb.js.map"}